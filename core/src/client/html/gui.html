<html>
<head>
<title>AjaXplorer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<?php if($JS_DEBUG) {?>
<script type="text/javascript">
		var ajxpResourcesFolder = '<?php print(CLIENT_RESOURCES_FOLDER); ?>';
		var ajxpServerAccessPath = '<?php print(SERVER_ACCESS); ?>';
		var zipEnabled = <?php print($ZIP_ENABLED); ?>;
</script>
<script language="javascript" type="text/javascript">var dynamicLibLoading = false;</script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/prototype/prototype.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/ufo/ufo.js"></script>

<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/webfx/slider/js/timer.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/webfx/slider/js/range.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/webfx/slider/js/slider.js"></script>

<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/prototype/webfx.selectable.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/prototype/webfx.sortable.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/prototype/proto.menu.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/prototype/splitter.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/prototype/proto.history.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/leightbox/lightbox.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/scriptaculous/src/scriptaculous.js?load=builder,effects,dragdrop,controls"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/prototype/corners.js"></script>

<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/webfx/xtree.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/webfx/xloadtree.js"></script>

<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/codepress/codepress.js"></script>

<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.Connexion.js"></script>

<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/ajxp_multifile.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/ajxp_utils.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.User.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.AjxpDraggable.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.AjxpSortable.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.AjxpAutoCompleter.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.Action.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.ActionsManager.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.BackgroundManager.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.UserSelection.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.FilesList.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.FoldersTree.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.SearchEngine.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.InfoPanel.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.Diaporama.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.Editor.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.SVNLogger.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.Modal.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.ResizeableBar.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.BookmarksBar.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.Ajaxplorer.js"></script>
<?php } else { ?>
<script language="javascript" type="text/javascript">var dynamicLibLoading = true;</script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/prototype/prototype.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/scriptaculous/src/scriptaculous.js?load=builder,effects,dragdrop,controls"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.Connexion.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.Modal.js"></script>
<script language="javascript" type="text/javascript" src="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/ajaxplorer/class.Ajaxplorer.js"></script>
<?php } ?>

<link rel="stylesheet" type="text/css" href="<?php print(CLIENT_RESOURCES_FOLDER);?>/css/pnghack/pngHack.css">
<link rel="stylesheet" type="text/css" href="<?php print(CLIENT_RESOURCES_FOLDER);?>/css/sortabletable.css">
<link rel="stylesheet" type="text/css" href="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/webfx/slider/css/bluecurve/bluecurve.css">
<link rel="stylesheet" type="text/css" href="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/webfx/xtree.css">
<link rel="stylesheet" type="text/css" href="<?php print(CLIENT_RESOURCES_FOLDER);?>/css/ajaxplorer.css">
<link rel="stylesheet" type="text/css" href="<?php print(CLIENT_RESOURCES_FOLDER);?>/js/lib/leightbox/screen.css">
<script type="text/javascript">
		var ajaxplorer;
		Event.observe(window, "load", function(){
			ajaxplorer = new Ajaxplorer("<?php print($EXT_REP);?>", <?php print($USERS_ENABLED);?>, <?php print($LOGGED_USER);?>, "<?php print($ROOT_DIR_ID);?>", <?php print($ROOT_DIRS_LIST);?>, "<?php print($DEFAULT_DISPLAY);?>");
			<?php 
			if($BEGIN_MESSAGE != "") print("alert('".str_replace("'", "\'", $BEGIN_MESSAGE)."');");
			?>
			ajaxplorer.currentLanguage = '<?php print(ConfService::getLanguage()); ?>';						
		});
 </script>
</head>
<body bgcolor="#FFFFFF" text="#000000" marginheight="0" marginwidth="0">
		
<div id="loading_overlay">
	<div id="progressBox" style="background-color:#666666;">
		<div id="loaderTitle" class="dialogTitle" style=" padding:0px;"><div style="padding:5px;">AjaXplorer v2.3</div></div>
		<div id="loaderContent" class="dialogContent" style="text-align:left;background-color:#ccddee; padding:0px;">
		<div style="padding:5px;">
			<div align="center" style="font-size:64px;font-family:Trebuchet MS; font-weight:bold;color:#fff;">
			<img src="<?php print(CLIENT_RESOURCES_FOLDER);?>/images/ajxp_logo_64.gif" width="64" height="64" border="0"> AjaXplorer
			</div>
			<div align="left" style="font-size:12px;font-family:Trebuchet MS; font-weight:normal;color:#000;padding-left:87px;">
			Written by Charles du Jeu - LGPL License. <br>
			AjaXplorer web browser version 2.3.
			</div>
			<div id="progressBarBorder" style="margin-top:125px; font-size: 0.5em;" align="left"><div id="progressBar" style="width:0px;"></div></div>
			<textarea style="width: 100%; height: 20px; border:none; background-color:#cde;overflow:hidden" id="progressState">Loading Components...</textarea>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
new Effect.Corner('loaderTitle',"top round 10px"); 
new Effect.Corner('loaderContent', "round bottom 10px");
</script>
<style>.dialogBox[id]{position:fixed;}</style>
<div id="all_forms">
<div id="generic_dialog_box" class="dialogBox">
	<div class="dialogTitle"></div>
	<div class="dialogContent"></div>
</div>

<!-- LOGIN SCREEN MUST BE ALREADY IN PAGE TO ENABLE PASSWORD REMEMBERING -->
<form id="login_form" action="login" style="display:none;" box_width="210">
<input type="hidden" name="get_action" value="login">
<div class="dialogLegend" style="margin-bottom: 7px;" ajxp_message_id="180"><?php print($mess[180]);?></div>
<table cellpadding="3" border="0" cellspacing="0" style="font-size:11px;">
<tr><td align="right"><ajxp_message ajxp_message_id="181"><?php print($mess[181]);?></ajxp_message> :</td><td><input type="text" name="userid" style="width: 100px; padding:0px;" class="dialogFocus"></td></tr>
<tr><td align="right"><ajxp_message ajxp_message_id="182"><?php print($mess[182]);?></ajxp_message> :</td><td><input type="password" name="password"  style="width: 100px; padding:0px;"></td></tr>
</table>
</form>

<!-- USER'S PREFERENCES -->
<form id="user_pref_form" action="user_pref" style="display:none;" box_width="300">
<fieldset><legend><img src="<?php print(CLIENT_RESOURCES_FOLDER);?>/images/crystal/actions/16/flag.png" align="absmiddle" border="0" width="16" height="16"> <ajxp_message ajxp_message_id="190"><?php print($mess[190]);?></ajxp_message></legend>
<?php 
$langs = ConfService::getConf("AVAILABLE_LANG");
foreach ($langs as $lang => $display)
{
	print("<input type=\"radio\" name=\"lang\" value=\"$lang\" id=\"lang_".$lang."\" class=\"radio\"/>$display<br>");
}
?>
</fieldset>
<fieldset><legend><img src="<?php print(CLIENT_RESOURCES_FOLDER);?>/images/crystal/actions/16/view_choose.png" align="absmiddle" border="0" width="16" height="16"> <ajxp_message ajxp_message_id="191"><?php print($mess[191]);?></ajxp_message></legend>
	<input type="radio" name="display" id="display_list" value="list" class="radio"><ajxp_message ajxp_message_id="192"><?php print($mess[192]);?></ajxp_message>
	<input type="radio" name="display" id="display_thumb" value="thumb" class="radio"><ajxp_message ajxp_message_id="193"><?php print($mess[193]);?></ajxp_message>
</fieldset>
<?php if(AuthService::changePasswordEnabled()){ ?>
<fieldset><legend><img src="<?php print(CLIENT_RESOURCES_FOLDER);?>/images/crystal/actions/16/yast_security.png" align="absmiddle" border="0" width="16" height="16"> <ajxp_message ajxp_message_id="194"><?php print($mess[194]);?></ajxp_message></legend>
<table cellpadding="2" cellspacing="0" border="0" style="font-size:11px;">
	<tr>
		<td align="right" style="width:90px; text-align:right;"><ajxp_message ajxp_message_id="237"><?php print($mess[237]);?></ajxp_message></td><td><input type="password" id="user_change_ownpass_old" value=""></td>
	</tr>
	<tr>
		<td align="right" style="text-align:right;"><ajxp_message ajxp_message_id="198"><?php print($mess[198]);?></ajxp_message></td><td><input type="password" id="user_change_ownpass1" value=""></td>
	</tr>
	<tr>
		<td align="right" style="text-align:right;"><ajxp_message ajxp_message_id="199"><?php print($mess[199]);?></ajxp_message></td><td><input type="password" id="user_change_ownpass2" value=""></td>
	</tr>
</table>
</fieldset>
<?php } ?>
</form>
</div>