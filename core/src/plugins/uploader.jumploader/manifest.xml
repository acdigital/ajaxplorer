<?xml version="1.0" encoding="UTF-8"?>
<uploader id="uploader.jumploader" text="51" title="162">
	<class_definition filename="plugins/uploader.jumploader/class.JumploaderProcessor.php" classname="JumploaderProcessor"/>
	<processing>
		<clientForm id="jumploader_form"><![CDATA[
			<div id="jumploader_form" box_width="600" box_padding="0">
			<div id="jumpscreen">
				<applet name="jumpLoaderApplet"
						code="jmaster.jumploader.app.JumpLoaderApplet.class"
						archive="plugins/uploader.jumploader/jumploader_z.jar"
						width="600"
						height="400" 
						mayscript>
					<param name="uc_uploadUrl" value="content.php?get_action=upload"/>
					<param name="uc_fileParameterName" value="userfile_0"/>
					<param name="ac_fireUploaderStatusChanged" value="true"/>
				</applet>			
			</div>
			</div>	
		]]></clientForm>
		<dialogOnOpen><![CDATA[ 
		var tmpFunction = function(oForm){
			var applet = $$('applet')[0];			
			var origUrl = applet.getUploaderConfig().getUploadUrl();
			applet.getUploaderConfig().setUploadUrl(origUrl + "&dir=" + base64_encode(ajaxplorer.getUserSelection().getContextNode().getPath()));
		};
		]]></dialogOnOpen>
		<dialogOnComplete><![CDATA[ 
		var tmpFunction = function(){
			ajaxplorer.getContextNode().reload();
		};
		]]></dialogOnComplete>
	</processing>
	<registry_contributions>
		<actions>
			<action name="upload">
				<pre_processing>					
					<serverCallback methodName="preProcess"/>
				</pre_processing>
				<post_processing>					
					<serverCallback methodName="postProcess" capture="true"/>
				</post_processing>
			</action>
		</actions>
	</registry_contributions>
	<dependencies>
		<!-- Stream Wrapper Access -->
		<activePlugin pluginName="access.fs|access.ftp|access.demo|access.remote_fs"/>
	</dependencies>					
</uploader>