<?xml version="1.0" encoding="UTF-8"?>
<indexer id="index.lucene" className="AjxpLuceneIndexer">
	<class_definition filename="plugins/index.lucene/class.AjxpLuceneIndexer.php" classname="AjxpLuceneIndexer"/>
    <server_settings>
        <param name="index_meta_fields" type="string" label="Index Meta Fields" description="Which additionnal fields to index and search" mandatory="false" default=""/>
        <param name="repository_specific_keywords" type="string" label="Repository keywords" description="If your repository path is defined dynamically by specific keywords like AJXP_USER, or your own, mention them here." mandatory="false" default=""/>
    </server_settings>
	<registry_contributions>
		<hooks>
			<serverCallback hookName="node.change" methodName="updateNodeIndex"></serverCallback>			
		</hooks>
		<actions>
			<action name="search">
				<processing>
					<serverCallback methodName="applyAction"/>
				</processing>
			</action>					
			<action name="index">
				<processing>
					<serverCallback methodName="applyAction"/>
				</processing>
			</action>					
		</actions>		
	</registry_contributions>
    <dependencies>
        <!-- Stream Wrapper Access -->
        <activePlugin pluginName="access.AJXP_STREAM_PROVIDER"/>
    </dependencies>
</indexer>